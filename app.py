import streamlit as st
import pandas as pd
from datetime import date

st.set_page_config(page_title="ุชุจุฏู ุชููุงู ุจู ุชุชุฑ", layout="centered")
st.title("๐ฑ ุซุจุช ุชุจุฏู ุชููุงู ุจู ุชุชุฑ")

# ูุณุช ุงูุฑุงุฏ
ุงูุฑุงุฏ = ["hassan", "abbas", "shahla", "mohsen"]

# ูุฑู ูุฑูุฏ ุงุทูุงุนุงุช
ูุงู_ุดุฎุต = st.selectbox("ูุงู ุดุฎุต", ุงูุฑุงุฏ)
ุชุงุฑุฎ = st.date_input("ุชุงุฑุฎ ูุงุฑุฒ", value=date.today())
ููุน_ุงุฑุฒ_ูุงุฑุฒ = st.selectbox("ููุน ุงุฑุฒ ูุงุฑุฒ", ["ุชููุงู", "USDT"] + ["BTC", "ETH", "BNB", "SOL", "XRP", "USDC", "ADA", "DOGE", "DOT"])

# ููุฏุงุฑ ูุงุฑุฒ
ููุฏุงุฑ_ูุงุฑุฒ = st.text_input("ููุฏุงุฑ ูุงุฑุฒ", placeholder="ูุซูุงู 1,000,000")
try:
    ููุฏุงุฑ_ูุงุฑุฒ_ูพุงฺฉ = int(ููุฏุงุฑ_ูุงุฑุฒ.replace(",", ""))
except:
    ููุฏุงุฑ_ูุงุฑุฒ_ูพุงฺฉ = 0

# ููุงุด ูุงุญุฏ ฺฉูุงุฑ ููุฏุงุฑ
ูุงุญุฏ = "ุชููุงู" if ููุน_ุงุฑุฒ_ูุงุฑุฒ == "ุชููุงู" else "ุฏูุงุฑ" if ููุน_ุงุฑุฒ_ูุงุฑุฒ == "ุชุชุฑ" else "ุงุฑุฒ"
st.write(f"ููุฏุงุฑ ูุงุฑุฏ ุดุฏู: {ููุฏุงุฑ_ูุงุฑุฒ} {ูุงุญุฏ}")

# ููุฏุงุฑ ุชุชุฑ ุฏุฑุงูุช ุงุฒ ุตุฑุงู
ููุฏุงุฑ_ุชุชุฑ = st.number_input("ููุฏุงุฑ ุชุชุฑ ุฏุฑุงูุช", min_value=0.0, format="%.4f")

# ูุฑุฎ ุชุจุฏู ุชุชุฑ ุจู ุชููุงู
ูุฑุฎ_ุชุชุฑ = st.number_input("ูุฑุฎ ุชุจุฏู ุชุชุฑ (ุชููุงู)", min_value=0.0)

# ูุญุงุณุจู ฺฉุงุฑูุฒุฏ ูพููุงู
ุงุฑุฒุด_ูุงูุน_ุชุชุฑ = ููุฏุงุฑ_ุชุชุฑ * ูุฑุฎ_ุชุชุฑ
ฺฉุงุฑูุฒุฏ_ูพููุงู = ููุฏุงุฑ_ูุงุฑุฒ_ูพุงฺฉ - ุงุฑุฒุด_ูุงูุน_ุชุชุฑ if ููุฏุงุฑ_ูุงุฑุฒ_ูพุงฺฉ > 0 else 0
ููุช_ุชูุงู_ุดุฏู_ูุฑ_ุชุชุฑ = ููุฏุงุฑ_ูุงุฑุฒ_ูพุงฺฉ / ููุฏุงุฑ_ุชุชุฑ if ููุฏุงุฑ_ุชุชุฑ > 0 else 0

# ุฏฺฉูู ุซุจุช
if st.button("ุซุจุช ุชุฑุงฺฉูุด"):
    st.success("โ ุชุฑุงฺฉูุด ุซุจุช ุดุฏ")

    st.write("### ๐ ุฌุฒุฆุงุช ูุญุงุณุจู:")
    st.write(f"ูุงู ุดุฎุต: {ูุงู_ุดุฎุต}")
    st.write(f"ุชุงุฑุฎ: {ุชุงุฑุฎ}")
    st.write(f"ููุน ุงุฑุฒ ูุงุฑุฒ: {ููุน_ุงุฑุฒ_ูุงุฑุฒ}")
    st.write(f"ููุฏุงุฑ ูุงุฑุฒ: {ููุฏุงุฑ_ูุงุฑุฒ} {ูุงุญุฏ}")
    st.write(f"ููุฏุงุฑ ุชุชุฑ ุฏุฑุงูุช: {ููุฏุงุฑ_ุชุชุฑ}")
    st.write(f"ูุฑุฎ ุชุจุฏู ุชุชุฑ: {ูุฑุฎ_ุชุชุฑ} ุชููุงู")
    st.write(f"ุงุฑุฒุด ูุงูุน ุชุชุฑ: {ุงุฑุฒุด_ูุงูุน_ุชุชุฑ:,.0f} ุชููุงู")
    st.write(f"ฺฉุงุฑูุฒุฏ ูพููุงู: {ฺฉุงุฑูุฒุฏ_ูพููุงู:,.0f} ุชููุงู")
    st.write(f"ููุช ุชูุงูโุดุฏู ูุฑ ุชุชุฑ: {ููุช_ุชูุงู_ุดุฏู_ูุฑ_ุชุชุฑ:,.0f} ุชููุงู")

    # ุฐุฎุฑู ุฏุฑ ุฏุชุงูุฑู
    df = pd.DataFrame([{
        "ูุงู ุดุฎุต": ูุงู_ุดุฎุต,
        "ุชุงุฑุฎ": ุชุงุฑุฎ,
        "ููุน ุงุฑุฒ": ููุน_ุงุฑุฒ_ูุงุฑุฒ,
        "ููุฏุงุฑ ูุงุฑุฒ": ููุฏุงุฑ_ูุงุฑุฒ_ูพุงฺฉ,
        "ููุฏุงุฑ ุชุชุฑ": ููุฏุงุฑ_ุชุชุฑ,
        "ูุฑุฎ ุชุชุฑ": ูุฑุฎ_ุชุชุฑ,
        "ฺฉุงุฑูุฒุฏ ูพููุงู": ฺฉุงุฑูุฒุฏ_ูพููุงู,
        "ููุช ูุฑ ุชุชุฑ": ููุช_ุชูุงู_ุดุฏู_ูุฑ_ุชุชุฑ
    }])
    st.write("### ๐ ุฌุฏูู ุชุฑุงฺฉูุด:")
    st.dataframe(df)
