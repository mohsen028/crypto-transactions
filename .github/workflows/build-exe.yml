# Ù†Ø§Ù… Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„ Ú©Ù‡ Ø¯Ø± Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
name: Build Windows Executable

# Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„ Ú†Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø§Ø¬Ø±Ø§ Ø´ÙˆØ¯ØŸ
on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  build:
    # Ø±Ø¨Ø§Øª Ù…Ø§ Ø§Ø² Ú†Ù‡ Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯ØŸ
    runs-on: windows-latest

    steps:
      # Ù…Ø±Ø­Ù„Ù‡ Ø§ÙˆÙ„: Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø´Ù…Ø§ (Ø¢Ù¾Ø¯ÛŒØª Ø´Ø¯Ù‡ Ø¨Ù‡ Ù†Ø³Ø®Ù‡ 4)
      - name: Checkout repository
        uses: actions/checkout@v4

      # Ù…Ø±Ø­Ù„Ù‡ Ø¯ÙˆÙ…: Ù†ØµØ¨ Ù¾Ø§ÛŒØªÙˆÙ† (Ø¢Ù¾Ø¯ÛŒØª Ø´Ø¯Ù‡ Ø¨Ù‡ Ù†Ø³Ø®Ù‡ 5)
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.9'

      # Ù…Ø±Ø­Ù„Ù‡ Ø³ÙˆÙ…: Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø´Ù…Ø§
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      # Ù…Ø±Ø­Ù„Ù‡ Ú†Ù‡Ø§Ø±Ù…: Ù†ØµØ¨ Ø§Ø¨Ø²Ø§Ø± Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
      - name: Install PyInstaller
        run: pip install pyinstaller

      # Ù…Ø±Ø­Ù„Ù‡ Ù¾Ù†Ø¬Ù… Ùˆ Ø§ØµÙ„ÛŒ: Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ exe
      - name: Build executable with PyInstaller
        run: pyinstaller --onefile --windowed --name "CryptoTracker" 1_ğŸ“ˆ_Dashboard.py

      # Ù…Ø±Ø­Ù„Ù‡ Ø´Ø´Ù… Ùˆ Ù†Ù‡Ø§ÛŒÛŒ: Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ exe (Ø¢Ù¾Ø¯ÛŒØª Ø´Ø¯Ù‡ Ø¨Ù‡ Ù†Ø³Ø®Ù‡ 4)
      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: CryptoTracker-Windows
          path: dist/CryptoTracker.exe
